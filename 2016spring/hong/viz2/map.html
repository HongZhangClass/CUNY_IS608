<!DOCTYPE html>
  <head>
  <!--- Using Google Charts for visualization, bootstrap to set up page, jquery for working with csv's -->
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
     <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
     <script type="text/javascript" src="//www.google.com/jsapi"></script>
     <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
     <script src="jquery_csv-0_71.js"></script> 
     <script type="text/javascript">google.load('visualization', '1', {'packages':     ['geochart']});</script>
     <script type="text/javascript">
  
	function drawMap() {
	$.get('states_top2.csv', function(csvData) {
	var fileData = $.csv.toArrays(csvData, {
	onParseValue: $.csv.hooks.castToScalar
	 });
      
	var data = new google.visualization.DataTable();
	data.addColumn('string','State');
	data.addColumn('number','Corn');
	data.addColumn('number','Wheat');

	// Loop thur file to get data
	var tmpArr = [];
	for (i = 1; i < fileData.length; i++) {

	// Skip when both values are zero, but run if not.
	if (! ( fileData[i][1] == 0 && fileData[i][2] == 0 ) ) {
	tmpArr.push([fileData[i][0],fileData[i][1], fileData[i][2]]);
	}
	};

	data.addRows(tmpArr);
	var options = {
	region: 'US',
	displayMode: 'markers',
	showLedgen:'true', showLegend: 'true'
	//colorAxis: {colors: ['green','blue']}
	};

	var geomap = new google.visualization.GeoChart(document.getElementById('map_canvas'));
	geomap.draw(data, options);
	})
	};

	drawMap();
     </script>
  </head>
    <body>
	<h1>2011 Organic Wheat and Corn Acres by State</h1>
	<h2>Bubble size represent Wheat and Color represent Corn</h2>
	<div id='map_canvas' style="width: 900px; height: 500px;"></div>
    </body>
</html>